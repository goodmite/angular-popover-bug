<div class="card bot-creation-form" style="border-radius: 0">

    <app-button-wrapper
      class="card--update"
      *myIf="[myEAllActions['Update Bots']]"
      [isMatFlatButton]="false"
      [status]="updateBotLoading"
      [text]="'Update Bot'"
      [icon]="'refresh'"
      [toolTipText]="updateBotTooltipText"
      (btnClick)="updateBotHandler()">
    </app-button-wrapper>
    <mat-tab-group [selectedIndex]="selectedTabIndex" (selectedIndexChange)="selectedTabIndex = $event" animationDuration="0ms">
        <mat-tab>
            <ng-template mat-tab-label>
                <span [ngStyle]="{'color': !basicInfoForm.valid? 'red':'#474747'}">Profile</span>
                <mat-icon style="color: red;font-size: 100%;" *ngIf="!basicInfoForm.valid" class="example-tab-icon">highlight_off</mat-icon>
            </ng-template>
            <app-basic-info-form [botId]="bot?.id" [formGroup]="basicInfoForm"></app-basic-info-form>
        </mat-tab>
        <mat-tab *ngIf="!(bot_type===myEBotType.intelligent)">
            <ng-template mat-tab-label>
                <span [ngStyle]="{'color': !dataManagementForm.valid?'red':'#474747'}">Management</span>
                <mat-icon style="color: red;font-size: 100%;" *ngIf="!dataManagementForm.valid" class="example-tab-icon">highlight_off</mat-icon>
            </ng-template>
            <app-data-manage-form [formGroup]="dataManagementForm"></app-data-manage-form>
        </mat-tab>
        <mat-tab *ngIf="!(bot_type===myEBotType.intelligent)">
            <ng-template mat-tab-label>
                <span [ngStyle]="{'color': !securityForm.valid?'red':'#474747'}">Security</span>
                <mat-icon style="color: red;font-size: 100%;" *ngIf="!securityForm.valid" class="example-tab-icon">highlight_off</mat-icon>
            </ng-template>
            <app-security [formGroup]="securityForm"></app-security>
        </mat-tab>
        <!-- failed appempt on making forms -->
        <mat-tab *ngIf="(bot_type===myEBotType.faqbot)">
            <ng-template mat-tab-label>
                <span [ngStyle]="{'color': !faqHandoverANdInterfaceForm.valid?'red':'#474747'}">Handover and Inference</span>
                <mat-icon style="color: red;font-size: 100%;" *ngIf="!faqHandoverANdInterfaceForm.valid" class="example-tab-icon">highlight_off</mat-icon>
            </ng-template>
            <app-faq-handover-and-interface-form [formGroup]="faqHandoverANdInterfaceForm" [bot]="bot"></app-faq-handover-and-interface-form>
        </mat-tab>

        <!-- <mat-tab *ngIf="(bot_type===myEBotType.faqbot)">
            <ng-template mat-tab-label>
                <span [ngStyle]="{'color': !securityForm.valid?'red':'#474747'}">Ml model</span>
                <mat-icon style="color: red;font-size: 100%;" *ngIf="!securityForm.valid" class="example-tab-icon">highlight_off</mat-icon>
            </ng-template>
            <app-faq-ml-model-form [formGroup]="securityForm"></app-faq-ml-model-form>
        </mat-tab> -->

        <ng-container *myIf="[myEAllActions['Get Integrations']]">
            <mat-tab *ngIf="!(bot_type===myEBotType.intelligent)">
                <ng-template mat-tab-label>
                    <span [ngStyle]="{'color': !integrationForm?.valid?'red':'#474747'}">Integrations</span>
                    <mat-icon style="color: red;font-size: 100%;" *ngIf="!integrationForm?.valid"
                              class="example-tab-icon">highlight_off
                    </mat-icon>
                </ng-template>
                <!--TODO: convert integration forms to reactive forms in future-->
                <app-integration-option-list
                        (form$)="integrationFormInit($event)"
                        [bot]="bot"></app-integration-option-list>
            </mat-tab>
        </ng-container>
        <!--<mat-tab label="Avatars" *ngIf="!(bot_type===myEBotType.intelligent)">-->
            <!--<app-avator-form (pipelineDataChangeHandler$)="pipelineDataChangeHandler$.emit($event)" [bot]="bot"></app-avator-form>-->
        <!--</mat-tab>-->
    </mat-tab-group>

</div>
