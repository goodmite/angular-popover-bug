<mat-tab-group>
  <mat-tab label="Overview">
    <div class="px-4 mt-2">
      <header class="row mt-3 pb-3 profile-row ">
        <div class="col-12 p-0">
          <div class="card">
            <div class="card-header d-flex justify-content-between justify-content-center align-items-center">
              <h4>Enterprise Profile</h4>
            </div>
            <div>
              <button class="btn-theme btn-theme-primary" [disabled]="!formGroup.valid" (click)="updateEnterpriseProfile()">Update</button>
            </div>
          </div>
        </div>

      </header>
      <div *ngIf="(loggeduserenterpriseinfoMap$|async) as loggeduserenterpriseinfo">
        <section class="row basic-row bg-white pt-3">
          <div class="col-3 logo-wrapper-col p-5">
            <div class="logo-wrapper">
              <img [src]="logoUrl.value || loggeduserenterpriseinfo.logo" alt="">
            </div>
          </div>
          <div class="col-9">
            <h4 class="form-title">Basic</h4>
            <form [formGroup]="formGroup" class="basic-info-form">
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <label for="name">Company Name</label>
                    <input type="text" class="form-control" formControlName="name" required>
                  </div>
                  <div class="form-group">
                    <label for="alterEgo">Industry</label>
                    <input type="text" class="form-control" formControlName="industry">
                  </div>
                  <!---->
                  <div class="form-group">
                    <label for="alterEgo">Logo Url</label><i class="text-danger pl-1" style="font-size: 11px">{{logoError}}</i>
                    <input type="text" #logoUrl class="form-control" formControlName="logo">
                    <i class="text-danger font-11 mr-1" *ngIf="formGroup.get('logo').getError('Image Extension is not correct')">Image
                      Extension is not correct</i>
                    <i class="text-danger font-11" *ngIf="formGroup.get('logo').getError('Must be Https Url')">Must be
                      Https Url</i>
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <label for="alterEgo">Email</label>
                    <input type="text" class="form-control" formControlName="email">
                  </div>

                  <div class="form-group">
                    <label for="alterEgo">Website Url</label>
                    <input type="text" class="form-control" formControlName="websiteUrl">
                  </div>
                </div>
              </div>
              <h4 class="form-title">Advanced</h4>
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <label for="name">Enterprise Unique Name</label>
                    <input type="text" class="form-control" required formControlName="enterpriseUniqueName" readonly>
                  </div>

                </div>
                <div class="col-5">
                  <div class="form-group">
                    <label for="alterEgo">Tier Group</label>
                    <input type="number" class="form-control" disabled formControlName="tier_group">
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <label for="alterEgo">Log Retention Period</label>
                    <input type="text" class="form-control" formControlName="log_retention_period">
                  </div>
                </div>
              </div>
            </form>
          </div>
        </section>
        <!---->


        <!--<section class="row enterprise-profile-info-row bg-white" *ngIf="role==='Admin'">-->
        <!--<div class="col-12">-->
        <!--<table class="table">-->
        <!--<thead class="">-->
        <!--<tr>-->
        <!--<th scope="col">#</th>-->
        <!--<th scope="col">Name</th>-->
        <!--<th scope="col">Email</th>-->
        <!--<th scope="col">Created At</th>-->
        <!--<th scope="col">Updated At</th>-->
        <!--<th scope="col">Permissions</th>-->
        <!--</tr>-->
        <!--</thead>-->
        <!--<tbody>-->
        <!--<tr *ngFor="let enterpriseuser of loggeduserenterpriseinfo.enterpriseusers">-->
        <!--<td>1</td>-->
        <!--<td>{{enterpriseuser.first_name}}</td>-->
        <!--<td>{{enterpriseuser.email}}</td>-->
        <!--<td>{{enterpriseuser.created_at|date}}</td>-->
        <!--<td>{{enterpriseuser.updated_at|date}}</td>-->
        <!--<td> empty</td>-->
        <!--</tr>-->
        <!--</tbody>-->
        <!--</table>-->
        <!--</div>-->
        <!--</section>-->

      </div>


      <!--<app-smart-table [data]="loggeduserenterpriseinfo.enterpriseusers"-->
      <!--[settings]="smartTableSettings_Enterprise_profiles">-->
      <!--</app-smart-table>-->

    </div>
  </mat-tab>
  <mat-tab label="Users">
    <div class="px-4 mt-2">
      <header class="row mt-3  profile-row" *ngIf="role==='Admin'">
        <div class="col-12 p-0">
          <div class="card">
            <div class="card-header d-flex justify-content-between justify-content-center align-items-center">
              <h4>Users management</h4>
              <button (click)="openDeletModal(enterpriseDeleteModal)">delet</button>
              <button (click)="openUserEditModal(ModifyUserModal)">ModifyUser</button>
              <button (click)="openUserEditModal(NewUserModal)">NewUser</button>
            </div>
            <div class="card-header d-flex justify-content-between justify-content-center align-items-center">
              Manage users of your enterprise by adding new ones, modifying and removing existing ones.
            </div>
          </div>
        </div>
      </header>
      <div class="d-flex">
        <div class="d-inline-block " *ngIf="role==='Admin'">
          All Users
        </div>
        <div class="ml-auto ">
          <button class="btn-theme btn-theme-primary" [disabled]="!formGroup.valid" (click)="updateEnterpriseProfile()">Update</button>
        </div>
      </div>

      <div class="row pb-3 bg-white profile-row" *ngIf="role==='Admin'">

        <div class="col-12">
          <app-smart-table *ngIf="tableData" [data]="tableData">
          </app-smart-table>
        </div>

      </div>
    </div>
  </mat-tab>
  <mat-tab label="Roles">
    <div class="px-4 mt-2">
      <header class="row mt-3  profile-row" *ngIf="role==='Admin'">
        <div class="col-12 p-0">
          <div class="card">
            <div class="card-header d-flex justify-content-between justify-content-center align-items-center">
              <h4>Custom role management</h4>

            </div>
            <div class="card-header d-flex justify-content-between justify-content-center align-items-center">
              Manage roles of your enterprise by adding new ones, modifying and removing existing ones.
            </div>
          </div>
        </div>
      </header>
      <div class="d-flex">
        <div class="d-inline-block " *ngIf="role==='Admin'">
          All Users
        </div>
        <div class="ml-auto ">
          <button class="btn-theme btn-theme-primary" [disabled]="!formGroup.valid" (click)="updateEnterpriseProfile()">Update</button>
        </div>
      </div>
      <div class="rolePannelGrid">

        <div class="rolePannelGridItem">
          <div class="headding pb-1" >
            Ikea developer
          </div>
          <div>
            Created by:Manoj MMMMMMMMM
          </div>
          <div>
            45 permissions added
          </div>
          <div class = "mt-auto d-flex" >
              <i class="fa fa-cog"></i><div class ="mr-auto">Modify</div>
              <i class="fa fa-trash"></i><div>Delete</div>
          </div>
        </div>
        <div class="rolePannelGridItem"></div>
        <div class="rolePannelGridItem"></div>
        <div class="rolePannelGridItem"></div>
        <div class="rolePannelGridItem"></div>

      </div>
    </div>
  </mat-tab>
</mat-tab-group>

<ng-template #enterpriseDeleteModal>
  <div class="danger-modal" style="min-width: 500px;">
    <div class="modal-header" style="border:none !important">
      <h4 class="modal-title mb-2" style="display: flex;justify-content: start;">Remove user?</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="dialogRefWrapper.ref.close()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>

    <div class="mx-3 mb-3" style="text-align: left !important;">
      <form #form="ngForm">
        <div class="my-1">
          <p class="mb-3">Do you want to remove XXXXXXX form YYYYYYY?
          </p>

        </div>
        <div class="d-flex" style="flex-direction: row-reverse">
          <!-- <button class="btn-theme btn-theme-secondary-outline mr-2" (click)="modalRefWrapper.hide()">Cancel</button> -->
          <button class=" btn-theme btn-theme-danger mx-1 " (click)="dialogRefWrapper.ref.close();">Remove
          </button>
          <button class=" btn-theme btn-theme-danger-outline mx-1" (click)="dialogRefWrapper.ref.close();">Cancel
          </button>

        </div>
      </form>
    </div>
  </div>
</ng-template>


<ng-template #ModifyUserModal>
  <div class="primary-modal">
    <div class="modal-header" style="border: none !important; padding-bottom: 0">
      <h4 class="modal-title" style="display: flex;justify-content: start;">Modify details</h4>
      <button aria-label="Close" class="close pull-right" type="button" (click)="dialogRefWrapper.ref.close()"><span
          aria-hidden="true">×</span>
      </button>
      <br>
    </div>
    <div class="pl-3 pb-3 pt-1">
      XXXXXX’s role and bots can be changed here
    </div>
    <div class="w-100 pl-3" style="align-items: center;">
      <div class="user-modal-heading">Change role</div>
      <mat-form-field>
        <mat-select placeholder="Select role" ngModel name="role" [value]="id">
          <!-- <mat-option *ngFor="let bot of codebasedBotList; let i = index;" [value]="role.id">
            {{bot.name}}
          </mat-option> -->
          <mat-option [value]="role.id">
            Admin
          </mat-option>
          <mat-option [value]="role.id">
            developer
          </mat-option>
        </mat-select>
      </mat-form-field>

    </div>
    <div class="user-modal-heading pl-3">Change bots</div>
    <div class="d-flex w-100 col-12 pl-3" style="align-items: center;">

      <div class="cursor-pointer color-primary mr-3" (click)="modelGenTempNameForm.reset()">
        Clear
      </div>
      <div class="cursor-pointer color-primary mr-auto " (click)="selectAllCheckBoxesInCopyTemplateForm(modelGenTempNameForm)">
        Select all
      </div>
      <div>
        <input type="text" style="width: 120px;border: 1px solid #e0e0e0;margin-right: 10px; padding: 3px" placeholder="Bots"
          [(ngModel)]="copyModalTemplateSearchKeyword">
      </div>
    </div>
    <div class="modal-body" style="padding-top: 10px!important;">
      <div class="d-flex flex-column align-items-center justify-content-center m-2" id="checkboxes">

        <form class="modelBotNames" id="modelGenTempNameForm" #modelGenTempNameForm="ngForm" (submit)="selectedListCopy(modelGenTempNameForm)"
          style="overflow-y: scroll;max-height: 250px;">
          <label class="container-chekbox text-dark" *ngFor="let botId of enterpriseUserBotList">
            {{botId}}
            <input type="checkbox" ngModel name="{{botId}}">
            <span class="checkmark"></span>
          </label>
        </form>
        <div class="d-flex w-100 mt-2">
          <button class="btn-theme btn-theme-primary-outline ml-auto mr-2" (click)="dialogRefWrapper.ref.close()">Cancel</button>
          <button class="btn-theme btn-theme-primary  d-inline-block mr-2" form="modelGenTempNameForm">Modify
          </button>
          <!-- <button class="btn-theme btn-theme-primary  d-inline-block mr-2"
                  [disabled]="(modelGenTempNameForm.value|numberOfTrueKeys)<1"
                  form="modelGenTempNameForm">Copy now
          </button> -->
        </div>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #NewUserModal>
  <div class="primary-modal">
    <div class="modal-header" style="border: none !important; padding-bottom: 0">
      <h4 class="modal-title" style="display: flex;justify-content: start;">New User</h4>
      <button aria-label="Close" class="close pull-right" type="button" (click)="dialogRefWrapper.ref.close()"><span
          aria-hidden="true">×</span>
      </button>
      <br>
    </div>
    <div class="pl-3 pb-3 pt-1">
      Add a new user to the enterprise
    </div>
    <div class="w-100 pl-3" style="align-items: center;">
      <div class="user-modal-heading">User details</div>
      <form class="form-theme form-theme-with-md-controls " (ngSubmit)="onSubmit()" #loginForm="ngForm">
        <input required email class="form-theme-control my-1 col-3 mx-2" ngModel name="email" aria-describedby="emailHelp"
          placeholder="First name">
        <input class="form-theme-control my-1 col-3 mx-2" name="password" ngModel required placeholder="First name">
        <mat-form-field>
          <mat-select placeholder="Select role" ngModel name="role" [value]="id">
            <!-- <mat-option *ngFor="let bot of codebasedBotList; let i = index;" [value]="role.id">
                    {{bot.name}}
                  </mat-option> -->
            <mat-option [value]="role.id">
              Admin
            </mat-option>
            <mat-option [value]="role.id">
              developer
            </mat-option>
          </mat-select>
        </mat-form-field>
        <input class="form-theme-control my-1 col-7 mx-2" name="password" ngModel required placeholder="Email address">
      </form>


    </div>
    <div class="user-modal-heading pl-3">Add Bots(0 selected)</div>
    <div class="d-flex w-100 col-12 pl-3" style="align-items: center;">

      <div class="cursor-pointer color-primary mr-3" (click)="modelGenTempNameForm.reset()">
        Clear
      </div>
      <div class="cursor-pointer color-primary mr-auto " (click)="selectAllCheckBoxesInCopyTemplateForm(modelGenTempNameForm)">
        Select all
      </div>
      <div>
        <input type="text" style="width: 120px;border: 1px solid #e0e0e0;margin-right: 10px; padding: 3px" placeholder="Bots"
          [(ngModel)]="copyModalTemplateSearchKeyword">
      </div>
    </div>
    <div class="modal-body" style="padding-top: 10px!important;">
      <div class="d-flex flex-column align-items-center justify-content-center m-2" id="checkboxes">

        <form class="modelBotNames" id="modelGenTempNameForm" #modelGenTempNameForm="ngForm" (submit)="selectedListCopy(modelGenTempNameForm)"
          style="overflow-y: scroll;max-height: 250px;">
          <label class="container-chekbox text-dark" *ngFor="let botId of enterpriseUserBotList">
            {{botId}}
            <input type="checkbox" ngModel name="{{botId}}">
            <span class="checkmark"></span>
          </label>
        </form>
        <div class="d-flex w-100 mt-2">
          <button class="btn-theme btn-theme-primary-outline ml-auto mr-2" (click)="dialogRefWrapper.ref.close()">Cancel</button>
          <button class="btn-theme btn-theme-primary  d-inline-block mr-2" form="modelGenTempNameForm">Modify
          </button>
          <!-- <button class="btn-theme btn-theme-primary  d-inline-block mr-2"
                  [disabled]="(modelGenTempNameForm.value|numberOfTrueKeys)<1"
                  form="modelGenTempNameForm">Copy now
          </button> -->
        </div>
      </div>
    </div>
  </div>
</ng-template>