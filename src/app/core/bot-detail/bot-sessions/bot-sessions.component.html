<div *ngIf="sessions">
  <app-smart-table [data]="sessions"
                   [totalRecords]="totalSessionRecords"
                   (customActionEvents)="customActionEventsTriggeredInSessionsTable($event,Primarytemplat)"
                   (rowClicked$)="goToReportEditComponent($event, template, Primarytemplat)"
                   (pageChanged$)="sessionTablePageChanged($event)"
                   [showSearchInDB]="true"
                   (performSearchInDB$)="performSearchInDbForSession($event)"
                   [settings]="smartTableSettings_Sessions"></app-smart-table>
</div>


<ng-template #template>
  <div class="row" style="width: 100%">
    <div class="col-12">
      <app-session-detail-model
        [session]="selectedRow_Session"
        [bot]="bot"
        (selectNextRow)="selectNextRow()"
        (closeModel$)="modalRef.hide()"
        (selectPrevRow)="selectPrevRow()"
        [pageNumberOfCurrentRowSelected]="pageNumberOfCurrentRowSelected"
        [indexOfCurrentRowSelected]="indexOfCurrentRowSelected"
        [finalDfState]="selectedRow_Session.df_state"
        [sessionDataStore]="selectedRow_Session.data_store">
      </app-session-detail-model>
    </div>
  </div>
</ng-template>
<!---->
<ng-template #Primarytemplat>
  <div class="danger-modal">
    <div class="top-dec"></div>
    <div class="modal-header">
      <h4 class="modal-title mb-2" style="display: flex;justify-content: start;">Reason for decryption</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>

    </div>

    <div class="modal-body pt-0">
     <form #form="ngForm">
       <div class="text-center my-1">
         <label for="" class="mr-1">Reason</label>
         <input type="text" required style="border-radius: 0px !important;" [(ngModel)] = "decryptReason" name="decryptReason">
       </div>
       <button [disabled]="!form.valid" class=" btn btn-theme-success-sm" (click)="decryptSubmit();modalRef.hide()">Submit</button>
     </form>
    </div>
  </div>
</ng-template>
