<form [formGroup]="formGroup" class="bot-creation-form bot-creation-form-grid">

  <mat-form-field class="w-100" cdkStepHeaderm>
    <input type="text"
           matInput
           formControlName="name"
           placeholder="Bot Name">
    <mat-error class="mat-error-small" *ngIf="formGroup.get('name').errors?.error as errorObj">{{errorObj.message}}</mat-error>
  </mat-form-field>

  <div class="logo-input">
    <div class="logo-input-wrapper">
      <img style="width: 72px; border-radius: 50%; height: 72px; margin-right: 10px"
           [src]="formGroup.get('logo').value" alt="bot logo">
      <!--TODO: app-bot-config-input is not used because we want to show custom errors-->
      <mat-form-field class="w-100">
        <input type="text"
               matInput
               formControlName="logo"
               placeholder="URL for the Bot Logo/Brand Image">
        <mat-error class="mat-error-small" *ngIf="formGroup.get('logo').errors?.error as errorObj">{{errorObj.message}}</mat-error>
        <mat-error
          *ngIf="!formGroup.get('logo').hasError('required')  && formGroup.get('logo').hasError('Image Extension is not correct')">
          Image Extension is not correct
        </mat-error>
      </mat-form-field>
    </div>
  </div>

  <mat-form-field class="w-100">
    <input type="text"
           matInput
           formControlName="bot_unique_name"
           placeholder="Bot Unique Name">
    <mat-error class="mat-error-small" *ngIf="formGroup.get('bot_unique_name').errors?.error as errorObj">{{errorObj.message}}</mat-error>
  </mat-form-field>


  <mat-form-field class="" ngNativeValidate>
                <textarea type="text"
                          matInput
                          cdkTextareaAutosize
                          cdkAutosizeMinRows="1"
                          cdkAutosizeMaxRows="3"
                          formControlName="description"
                          placeholder="Description"
                          [disabled]="isDisabled"></textarea>
    <mat-error class="mat-error-small" *ngIf="formGroup.get('description').errors?.error as errorObj">{{errorObj.message}}</mat-error>
  </mat-form-field>

  <mat-form-field *ngIf="myEBotType.intelligent !== bot_type">
    <mat-label>Default language</mat-label>
    <mat-select formControlName="language">
      <mat-option *ngFor="let lang of bot_languages" [value]="lang.language_code">
        {{lang.display_name}}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <div class="spacer"></div>

  <ng-container *ngIf="myEBotType.intelligent !== bot_type">
    <fieldset [appReadonlySelectedRoles]="myEAllActions['Update Bots']"
              *ngIf="myEBotType.chatbot === bot_type || myEBotType.router === bot_type">
      <legend style="display: none;">first messgae</legend>
      <mat-form-field class="w-100">
                <textarea matInput formControlName="first_message" type="text" class=""
                          cdkTextareaAutosize
                          cdkAutosizeMinRows="1"
                          cdkAutosizeMaxRows="3"
                          placeholder="First Message"></textarea>
        <mat-error class="mat-error-small" *ngIf="formGroup.get('first_message').errors?.error as errorObj">{{errorObj.message}}</mat-error>
      </mat-form-field>
    </fieldset>
    <fieldset [appReadonlySelectedRoles]="myEAllActions['Update Bots']">
      <legend style="display: none;">Recipients</legend>
      <mat-form-field class="w-100">
                <textarea matInput formControlName="error_message" type="text"
                          cdkTextareaAutosize
                          cdkAutosizeMinRows="1"
                          cdkAutosizeMaxRows="3"
                          placeholder="Default Platform Error Message "></textarea>
        <mat-error class="mat-error-small" *ngIf="formGroup.get('error_message').errors?.error as errorObj">{{errorObj.message}}</mat-error>
      </mat-form-field>
    </fieldset>
  </ng-container>
</form>
