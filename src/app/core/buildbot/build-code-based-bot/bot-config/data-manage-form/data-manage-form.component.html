<form [formGroup]="formGroup" *ngIf="_bot" class="bot-creation-form ">

    <div class="row m-0">
        <fieldset class="col-5" [readonlyselectedroles]="myEAllActions['Update Bots']">

            <div class="switch-wrapper">
                <div class="form-control d-flex flex-column">
                    <label class="pr-2">Room Close Callback <app-info-icon></app-info-icon></label>

                    <app-ui-switch
                            formControlName="room_close_callback"
                            [disabled]="permissionService.isTabAccessDenied(myEAllActions['Update Bots'])"
                    ></app-ui-switch>

                </div>
            </div>

            <div class="switch-wrapper">
                <div class="form-control d-flex flex-column">
                    <label class="pr-2">Allow Feedback <app-info-icon></app-info-icon></label>

                    <app-ui-switch
                            formControlName="allow_feedback"
                            [disabled]="permissionService.isTabAccessDenied(myEAllActions['Update Bots'])"
                    ></app-ui-switch>
                    <!---->
                </div>
            </div>


            <div class="switch-wrapper">
                <div class="form-control d-flex flex-column">
                    <label class="pr-2">Advanced Data Protection <app-info-icon></app-info-icon></label>
                    <app-ui-switch
                            formControlName="advanced_data_protection"
                            [(ngModel)]="advanced_data_protection"
                            [disabled]="permissionService.isTabAccessDenied(myEAllActions['Update Bots'])"
                    ></app-ui-switch>
                </div>
            </div>


            <!--<div *ngIf="formGroup.get('is_manager').value">-->
                <!--<div *ngIf="!formGroup.hasError('isManagerError');else isManagerError" class="permissions-box">-->
            <!--<span *ngFor="let childBotId of formGroup.get('child_bots').value"-->
                  <!--class="badge badge-pill badge-info inline m-1">{{childBotId | botIdToName | async}}-->
                <!--<span class="fa fa-remove cursor-pointer" (click)="removeChildBot(childBotId)"></span>-->
            <!--</span>-->
                <!--</div>-->
            <!--</div>-->




        </fieldset>
        <div class="col-1"></div>
        <fieldset class="col-5" [readonlyselectedroles]="myEAllActions['Update Bots']">

            <app-bot-config-input
            displayName="Session Close Time [mins]"
            formControlName="room_persistence_time"
            [isRequired]="true"
            placeholder="Session Close Time [mins]"></app-bot-config-input>

            <mat-form-field class="w-100">
                <input matInput formControlName="transactions_per_pricing_unit" type="number" class=""
                       placeholder="Transactions Per Billing Unit">
            </mat-form-field>

            <!--<div class="switch-wrapper">-->
            <!--<div class="form-control d-flex flex-column">-->
            <!--<label class="pr-2">Persist Anonymized Conversation Logs</label>-->
            <!--<app-ui-switch-->
            <!--formControlName="allow_anonymization"-->
            <!--[disabled]="permissionService.isTabAccessDenied(myEAllActions['Update Bots'])"-->
            <!--&gt;</app-ui-switch>-->
            <!--</div>-->
            <!--</div>-->

            <!--<div class="switch-wrapper">-->
            <!--<div class="form-control d-flex flex-column">-->
            <!--<label class="pr-2">Blanket consent for all consumers</label>-->
            <!--<app-ui-switch-->
            <!--formControlName="blanket_consent"-->
            <!--[disabled]="permissionService.isTabAccessDenied(myEAllActions['Update Bots'])"-->
            <!--&gt;</app-ui-switch>-->
            <!--</div>-->
            <!--</div>-->
        </fieldset>


        <div class="col-6">
            <div class="" *ngIf="!(_bot.bot_type===myEBotType.intelligent)">
                <div class="d-flex align-items-center">
                    <label class="pr-2 mb-0">Is Manager Bot? <app-info-icon></app-info-icon></label>
                    <mat-slide-toggle formControlName="is_manager" color="primary"></mat-slide-toggle>
                    <!--<app-is-manager-form-control hidden formArrayName="child_bots"></app-is-manager-form-control>-->

                    <!--bots dropdown starts-->
                    <!--<mat-chip-list class="ml-3" *ngIf="formGroup.get('is_manager').value">-->
                    <!--<mat-chip [matMenuTriggerFor]="menu">Bot list</mat-chip>-->
                    <!--</mat-chip-list>-->
                    <!--<mat-menu #menu="matMenu" class="cutom-md-menu">-->
                    <!--<ng-container *ngFor="let bot of codebasedBotList; let i = index;">-->
                    <!--<button mat-menu-item (click)="pushChildBot(bot.id)"-->
                    <!--*ngIf="!isBotIdPresentInChildBotList(bot.id)">{{bot.name}}</button>-->
                    <!--</ng-container>-->
                    <!--</mat-menu>-->

                </div>
            </div>
            <mat-form-field style="width: 100%">
                <mat-select placeholder="Child Bots"
                            formControlName="child_bots"
                            multiple >
                    <ng-container *ngFor="let bot of codebasedBotList; let i = index;">
                        <mat-option [value]="bot.id">
                            {{bot.name}}
                        </mat-option>
                    </ng-container>
                </mat-select>
            </mat-form-field>
            <ng-template #isManagerError>
                <label class="text-danger pl-1"
                       for="alterEgo"><i>At least one childbot is requred</i></label>
            </ng-template>
        </div>
    </div>

</form>


