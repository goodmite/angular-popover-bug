<app-imi-loader *ngIf="!loaded"></app-imi-loader>
<div *ngIf = "loaded">
    <header>
        <div class = "d-flex flex-row heading">
            <strong class = "heading-title">
                Knowledge base</strong>
            <div class="article-state"
            [ngStyle]="{'background-color':  corpus.state == 1 ? '#fdc31c': 
                corpus.state == 2 ? '#f48a42' : 
                corpus.state == 3 ? '#00abd3' : 
                corpus.state == 4 ? '#34bc6e' : '#00abd3' }">
    
                {{ corpus.state == 1 ? 'Saved' : 
                corpus.state == 2 ? 'Training' : 
                corpus.state == 3 ? 'Trained' : 
                corpus.state == 4 ? 'Live' : 'Trained' }}
            </div>
            <div class="mr-auto">
            </div>
            <button class="btn-theme btn-theme-primary mat-theme-button mat-theme-button-border" 
            [hidden]=" corpus.state != 1 && corpus.state != 3"
            >
                <mat-icon class = "mat-icon material-icons" *ngIf="corpus.state == 1">sync</mat-icon>
                <mat-icon class = "mat-icon material-icons" *ngIf="corpus.state == 3">arrow_upward</mat-icon>
                {{ corpus.state == 1 ? 'Train' : 
                corpus.state == 3 ? 'Make Live' : 'Train'}}
            </button>
        </div>
        <div style="color: #9e9e9e;font-size: 11px">These are your {{corpus.sections? corpus.sections.length : ''}}  articles.
        </div>
    </header>
        <div class="main-frame">
            <app-article-question-list-view
            [corpus] = "corpus"
            [filter_categorie_id_list]="filter_categorie_id_list"
            (removeFilterItemByIdEvent) = "removeFilterItemById($event)"
            >
            </app-article-question-list-view>
            <div>
                <div class="d-flex w-100  flex-column article-action-side-bar pl-4">
                    <div class="for-border"></div>
                    <div class="action-item pt-2 pb-1 cursor-pointer" style="font-size:13px">
                        <mat-icon class="material-icons">add</mat-icon> Create new article
                    </div>
                    <div class="action-item py-1 cursor-pointer">
                        <mat-icon class="material-icons">create_new_folder</mat-icon>Create a new category
                    </div>
                    <div class="action-item py-1 cursor-pointer">
                        <mat-icon class="material-icons">folder</mat-icon>Modify existing categories
                    </div>
                </div>
                <app-article-filter 
                [categoryMapping] = "corpus.category_mapping"
                [articleFilterForm] = "articleFilterForm"
                (filterCategory) = "makeFilterList($event)"
                ></app-article-filter>
            </div>
        </div>
</div>

