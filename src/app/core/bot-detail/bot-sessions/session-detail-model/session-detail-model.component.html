<div class="container">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header d-flex  justify-content-between align-items-center">
          <!--<p>{{indexOfCurrentRowSelected+''+pageNumberOfCurrentRowSelected}}</p>-->
          <div class="d-flex ">
            <i class="fa fa-angle-left pr-2 cursor-pointer"
               [ngClass]="{invisible:indexOfCurrentRowSelected<=0 && pageNumberOfCurrentRowSelected<=1}"
               (click)="selectPrevRow.emit()"></i>
            <i class="fa fa-angle-right cursor-pointer" [ngClass]="{invisible:false}"
               (click)="selectNextRow.emit()"></i>
          </div>

          <div class="d-flex  align-items-center justify-content-center">
            <i class="fa fa-refresh pr-2"></i>
            <div class="d-flex  flex-column align-items-start align-content-start">
              <span class="secondary">Last updated at</span>
              <span class="primary">22:30:22 11/09/17</span>
            </div>
          </div>

          <div class="d-flex  flex-column">
            <span class="secondary">Total Messages</span>
            <span class="primary16">{{sessionMessageData?.length}}</span>
          </div>

          <div class="d-flex  flex-column">
            <span class="secondary">Sent to agent</span>
            <span class="primary16">false</span>
          </div>

          <div class=" ">
            <div class="d-flex justify-content-center">
              <div class="secondary  font-weight-bold">Room ID:</div>
              <div class="secondary ">{{_session.id}}</div>
            </div>
            <!---->
            <div class="d-flex">
              <div class="secondary font-weight-bold">Consumer ID:</div>
              <div class="secondary">{{_session.consumer_id}}</div>
            </div>
          </div>

          <div><i class="fa fa-times"></i></div>
          <!---->
        </div>
        <div class="card-body p-0" style="height: 80vh">
          <div class="row mx-0 p-0 py-2" style="height: 100%">

            <div class="col-6 pl-0 pr-0 pb-3 border-right">
              <!--search input starts-->
              <div class="container ">
                <div class="row py-2 border-bottom">
                  <div class="col-8">
                    <div class="input-group border p-1"
                         style="height: 32px;border-radius: 2px!important;position: relative">
                      <input class="form-control py-2 border-0" [ngModel]="messageSearchKeyword"
                             (ngModelChange)=performSearch($event)
                             id="search-session-model" type="search"
                             placeholder="search">
                      <i class="fa fa-angle-down text-dark"
                         style="font-size: 18px;position: absolute; right: 10px;top: 6px; z-index: 10 "></i>
                      <i class="fa fa-search"
                         style="font-size: 18px;position: absolute; left: 10px;top: 6px;color: #e0e0e0;z-index: 10"></i>
                    </div>
                  </div>
                </div>
                <!--search input ends-->
                <div class="row m-0 my-2 align-items-start align-content-start"
                     style="height: 65vh;overflow-y: scroll;overflow-x: hidden;">
                  <div class="col-12"
                       *ngFor="let message of sessionMessageDataCopy|filterObjectArray:messageSearchKeyword"
                       [ngClass]="{'border-selected-txn':message.transaction_id === transactionIdSelectedInModel,
                        'border-unselected-txn':message.transaction_id !== transactionIdSelectedInModel}">
                    <app-session-message [sessionMessageData]="message"
                                         (messageClickedEvent$)="transactionIdChangedInModel($event)"></app-session-message>
                  </div>
                </div>
              </div>
            </div>
            <!--</div>-->
            <div class="col-6 d-flex flex-column">
              <ul class="nav nav-tabs my-2 pb-0">
                <li class="nav-item px-0">
                  <a class="nav-link p-0 mr-2" [ngClass]="{'tab-active':activeTab==='manager_bot'}"
                     (click)="tabClicked('manager_bot')"><strong>MANAGER BOT</strong></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link p-0" [ngClass]="{'tab-active':activeTab==='active_bot'}"
                     (click)="tabClicked('active_bot')"><strong>ACTIVE BOT</strong></a>
                </li>
                <li class="nav-item ml-auto">
                  <a class="nav-link p-0 mr-2" [ngClass]="{'tab-active':activeTab==='final_df'}"
                     (click)="tabClicked('final_df')"><strong>FINAL DF</strong></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link p-0" [ngClass]="{'tab-active':activeTab==='datastore'}"
                     (click)="tabClicked('datastore')"><strong>DATASTORE</strong></a>
                </li>
              </ul>
              <!--<div class="d-flex justify-content-center flex-grow-1 py-2">-->
              <!--<pre class="code-text bg-dark" style="width: 90%;overflow: scroll; color: white;">-->
              <!--{{codeText|json}}-->
              <!--</pre>-->
              <!--</div>-->
              <app-code-editor [text]="codeText?(codeText|json):''"></app-code-editor>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
