<div class="view-bots-container">
  <div class="new-bot-cta">

    <app-button-wrapper
      *appMyIf="myEAllActions['Create Bots']"
      [text]="'+ New ' + botLabelMap[activeTab] +  ' Bot'"
      (btnClick)="openDialog(activeTab)"></app-button-wrapper>
  </div>

  <mat-tab-group animationDuration="0ms"
                 [selectedIndex]="activeTab===myEBotType.faqbot?0:
    (activeTab===myEBotType.mlbot?1:
    (activeTab===myEBotType.chatbot?2:
    (activeTab===myEBotType.router)?3:4))"
                 (selectedTabChange)="tabClicked(
    $event.index == 0?myEBotType.faqbot:
    ($event.index == 1? myEBotType.mlbot :
    ($event.index == 2? myEBotType.chatbot :
    ($event.index == 3 ? myEBotType.router : myEBotType.intelligent))))">
    <mat-tab label="Q&A bots">
      <div class="pl-4 mt-2">
        <app-bot-preview-card-list
          [botType]="activeTab"
          [botList]="searchBasedBotList"></app-bot-preview-card-list>
      </div>
    </mat-tab>
    <mat-tab label="Task bots (Beta)">
      <div class="pl-4 mt-2">
        <app-bot-preview-card-list
          [botType]="activeTab"
          [botList]="mlBasedBotList"></app-bot-preview-card-list>
      </div>
    </mat-tab>
    <mat-tab label="Smart bots">
      <div class="pl-4 mt-2">
        <app-bot-preview-card-list
          [botType]="activeTab"
          [botList]="codeBasedBotList"></app-bot-preview-card-list>
      </div>
    </mat-tab>
    <mat-tab label="Router bots">
      <div class="pl-4 mt-2">
        <app-bot-preview-card-list
          [botType]="activeTab"
          [botList]="routerBasedBotList"></app-bot-preview-card-list>
      </div>
    </mat-tab>
    <mat-tab label="Pipeline bots">
      <div class="pl-4 mt-2">
        <app-bot-preview-card-list
          [botType]="activeTab"
          [botList]="pipelineBasedBotList"></app-bot-preview-card-list>
      </div>
    </mat-tab>
  </mat-tab-group>

</div>


<ng-template #Primarytemplate>
  <div class="primary-modal">
    <div class="top-dec"></div>
    <div class="modal-header">
      <h4 class="modal-title mb-2" style="display: flex;justify-content: start;">Choose a bot type</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>

    </div>

    <div class="modal-body pt-0">
      <div class="action d-flex cursor-pointer p-2" (click)="navigate(myEBotType.chatbot)" style="height: 40px">
        <div class="d-flex" style="padding-right: 20px">
          <span class="fa fa-angle-left pr-1"></span>
          <span class="fa fa-angle-right"></span>
        </div>
        <div class=" d-flex flex-column align-items-start justify-content-between">
          <div class="new-bot-heading font-weight-bold">Code based bot</div>
          <div class="new-bot-text">Build a new python based bot for deployment</div>
        </div>
      </div>

      <div class="action d-flex mt-2 cursor-pointer p-2" (click)="navigate(myEBotType.intelligent)"
           style="height: 40px">
        <div class="d-flex" style="padding-right: 20px">
          <span class="fa fa-server"></span>
        </div>
        <div class="d-flex flex-column align-items-start justify-content-between">
          <div class="new-bot-heading font-weight-bold">Pipeline based bot</div>
          <div class="new-bot-text">Process user inputs and push to other services</div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
