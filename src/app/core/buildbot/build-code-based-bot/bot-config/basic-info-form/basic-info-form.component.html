<!--<button (click)="click()">Click</button>-->
<form #form="ngForm" ngNativeValidate class="bot-creation-form ngNativeValidate">
  <div class="row" >
    <fieldset class="col-5" readonlyselectedroles>
      <div class="form-group">
        <label class="required" for="alterEgo">Bot Name</label>
        <label [hidden]="name.valid || name.pristine" class="text-danger pl-1" for="alterEgo"><i>Name is required</i></label>
        <input
          ngModel
          name="name"
          required
          maxlength="35"
          #name="ngModel"
          type="text" class="form-control required"
               placeholder="A display name for the bot" id="alterEgo">
      </div>

      <div class="form-group">
        <label class="required" for="alterEgo">Description</label>
        <label [hidden]="description.valid || description.pristine" class=" text-danger pl-1" for="alterEgo"><i>Description is required</i></label>
        <input
          ngModel
          name="description"
          required
          maxlength="80"
          #description="ngModel"
          type="text" class="form-control"
               placeholder="A description for the Bot" id="alterEgo">
      </div>

      <div class="form-group">
        <label for="alterEgo">Bot Logo Url</label>
        <input
          [(ngModel)]="_default_logo"
          name="logo" type="text" class="form-control"
               placeholder="URL for the Bot Logo/Brand Image" id="alterEgo">
      </div>

    </fieldset>
    <fieldset class="col-7" readonlyselectedroles>
      <div class="form-group">
        <label class="required" for="name">Unique Name</label>
        <label [hidden]="bot_unique_name.valid || bot_unique_name.pristine" class="text-danger pl-1" for="alterEgo"><i>Bot Unique Name is required</i></label>
        <input
          ngModel
          name="bot_unique_name"
          type="text"
          required
          #bot_unique_name="ngModel"
          class="form-control"
               placeholder="Bot Unique Name (non-editable after Bot creation)" id="name">
      </div>


      <div class="form-group">
        <label for="alterEgo">Session Close Time [mins]</label>
        <input
               name="room_persistence_time"
               [(ngModel)]="_default_room_persistence_time"
               type="number" class="form-control"
               placeholder="Time until Session Closes (in minutes)" id="alterEgo">

      </div>
      <!-- <div class="form-group">
        <label for="alterEgo">Is Manager Bot</label>
        <input ngModel="{{bot.room_persistence_time}}" name="room_persistence_time" type="text" class="form-control" placeholder="Time until Session Closes (in minutes)" id="alterEgo">
      </div> -->
      <div class="">
        <div class="d-flex align-items-top">
          <label class="pr-2">Is Manager Bot?</label>
          
          <ui-switch [disabled]="constantsService.isTabAccessDenied(myETabNames.UI_SWITCH)" [(ngModel)]="_bot.is_manager" name="is_manager" style="border:none;padding: 0;" size="small"></ui-switch>
          <div class="btn-group mb-1" dropdown *ngIf="_bot.is_manager">
            <button id="button-basic" dropdownToggle type="button" class="btn dropdown-toggle btn-theme-success-sm-outline ml-1" aria-controls="dropdown-basic">
              Bot List<span class="caret"></span>
            </button>
            <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu" role="menu" aria-labelledby="button-basic" style="max-height: 200px; overflow-y: scroll">
              <li role="menuitem" *ngFor="let bot of allbotList; let i = index;">
                <a class="dropdown-item" (click)="addChildBot(bot)" *ngIf="!wannaDisable(bot.id)">{{bot.name}}</a>
              </li>
            </ul>
            <!--<input type="number" required min="1" [ngModel]="childBotlength" name="delete_me">-->

          </div>
        </div>
      </div>

      <!-- <div class="form-group m-0 mr-4 ml-auto">
        <label for="">Bot</label>
        <select class="concept1" [ngModel] required validate name="botId">
          <option *ngFor="let bot of (allbotList$ | async); let i = index;" [selected]="i===0" type="button" [value]="bot.id">{{bot.name}}</option>
        </select>
      </div> -->


      <!-- <div class="btn-group mb-1" dropdown *ngIf="isManager">
        <button id="button-basic" dropdownToggle type="button"
                class="btn dropdown-toggle btn-theme-success-sm-outline"
                aria-controls="dropdown-basic">
          Bot List<span class="caret"></span>
        </button>
        <ul id="dropdown-basic" *dropdownMenu class="dropdown-menu"
            role="menu" aria-labelledby="button-basic" style="max-height: 200px; overflow-y: scroll">
          <li role="menuitem" *ngFor="let bot of allbotList; let i = index;">
            <a class="dropdown-item" (click)="addChildBot(bot)"
               *ngIf="!wannaDisable(bot.id)"
            >{{bot.name}}</a>
          </li>
        </ul>
      </div> -->
      <!--<p>{{(allbotList|json)}}</p>-->
      <!-- <p>{{bot.child_bots|json}}</p> -->
      <label *ngIf="_bot.is_manager && (_bot.child_bots.length<1)" class="text-danger pl-1" for="alterEgo"><i>Atleast one childbot is requred</i></label>

      <div *ngIf="_bot.is_manager" class="permissions-box">
            <span *ngFor="let childBotId of _bot.child_bots"
                  class="badge badge-pill badge-info inline m-1">{{childBotId | botIdToName | async}}
              <span class="fa fa-remove cursor-pointer" (click)="removeChildBot(childBotId)"></span>
            </span>
      </div>
    </fieldset>
  </div>


</form>
