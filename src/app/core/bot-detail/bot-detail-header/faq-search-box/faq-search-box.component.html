<div (clickOutside)="input_foused = false">

    <div class="faq-search">
      <span class="fa fa-search icon-color input-icon" [ngClass]="{'input-foused':input_foused}"></span>
      <input #InputRef id="" placeholder="Search for questions"(focus)="input_foused = true"  [(ngModel)]="searchAricleString" data-cy="article-search"  [attr.dir]="this.bot.language === 'ar' ? 'rtl' : 'ltr'">
    </div>
<!--  getBoundingClientRect().bottom > window.screen.height/2-->
    <div class = "searchBox " [ngClass]="{'showSearchBoxOnTop' : InputRef.getBoundingClientRect().bottom > win.screen.height/2}"
      *ngIf="input_foused && corpus && corpus.sections && (corpus.sections | searchArticleByQuestion : searchAricleString) &&(corpus.sections | searchArticleByQuestion : searchAricleString).length > 0">
      <div class="d-flex article-item flex-column py-2 px-2 search-item"
           [ngStyle]="{'text-align':this.bot.language === 'ar'?'right':'left'}"
           *ngFor="let section of corpus.sections | searchArticleByQuestion : searchAricleString , let i = index"
        (click)="navigateToArticleById({section_id:section.section_id,question:section.questions[0]})">
        <div class="catagory">
            {{section.category_id | categoryIdToName : corpus.category_mapping }}
        </div>
        <div class="d-flex flex-column" >
          <p class="first_question question py-2" *ngFor="let question of section.questions , let i = index" data-cy="article-search-results"
            [innerHtml]="question"></p>
        </div>
      </div>
    </div>
    <div class ="searchBox"
       *ngIf="corpus && corpus.sections && (corpus.sections | searchArticleByQuestion : searchAricleString) &&(corpus.sections | searchArticleByQuestion : searchAricleString).length == 0">
        <div class="d-flex flex-column py-2 px-2">
          <div class="first_question mr-auto question" >No questions found in all articles
          </div>
        </div>
      </div>

  </div>
